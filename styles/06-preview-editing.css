.preview-card-head-actions {
  position: absolute;
  top: 1px;
  right: 3px;
  z-index: 3;
  display: flex;
  align-items: center;
  gap: 3px;
  opacity: 0;
  pointer-events: none;
  transform: translateY(-5px);
  transition: opacity 120ms ease, transform 140ms ease;
}

.preview-head-btn {
  border: 1px solid #d3d9d7;
  border-radius: 4px;
  background: #ffffff;
  color: #1f3b34;
  font-size: 0.66em;
  font-weight: 600;
  line-height: 1;
  padding: 0;
  width: 17px;
  min-width: 17px;
  height: 17px;
  cursor: pointer;
  box-shadow:
    0 0 0 2px rgba(255, 255, 255, 0.84),
    0 5px 9px rgba(14, 38, 33, 0.2);
}

.preview-head-btn.danger {
  border-color: #e6b5ad;
  color: #7b2f23;
  background: #fff5f3;
}

.preview-item-block {
  position: relative;
  margin-bottom: 4px;
  padding-right: 0;
}

.preview-item-actions {
  z-index: 2;
  display: flex;
  gap: 3px;
  margin: 0;
  position: absolute;
  top: -3px;
  right: 0;
  opacity: 0;
  pointer-events: none;
  transform: translateY(-5px);
  transition: opacity 120ms ease, transform 140ms ease;
}

.preview-mini-btn {
  border: 1px solid #d4dbd8;
  border-radius: 4px;
  background: #fff;
  color: #345149;
  font-size: 0.66em;
  font-weight: 600;
  line-height: 1;
  padding: 0;
  width: 16px;
  min-width: 16px;
  height: 16px;
  cursor: pointer;
  box-shadow:
    0 0 0 2px rgba(255, 255, 255, 0.84),
    0 4px 8px rgba(14, 38, 33, 0.19);
}

.preview-mini-btn.danger {
  border-color: #e8bbb2;
  color: #8a3426;
  background: #fff5f3;
}

.preview-head-btn:hover,
.preview-mini-btn:hover {
  border-color: #86b4a8;
}

.preview-item-block:hover .preview-item-actions,
.preview-item-block:focus-within .preview-item-actions {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.preview-card:hover .preview-card-head-actions,
.preview-card:focus-within .preview-card-head-actions,
.preview-card.dragging .preview-card-head-actions,
.preview-card.resizing .preview-card-head-actions {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.preview-card.is-locked .preview-card-head-actions {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto;
}

.preview-head-btn:focus-visible,
.preview-mini-btn:focus-visible {
  outline: 2px solid #2a7f6b;
  outline-offset: 1px;
}

@media (hover: none) {
  .preview-card-head-actions,
  .preview-item-actions {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }
}

.preview-edit-modal {
  position: fixed;
  inset: 0;
  z-index: 70;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 18px;
  background: rgba(8, 24, 21, 0.46);
  backdrop-filter: blur(3px);
}

body.preview-edit-modal-open {
  overflow: hidden;
}

.preview-edit-modal-card {
  width: min(860px, calc(100vw - 30px));
  max-height: calc(100vh - 36px);
  padding: 16px 16px 14px;
  border-radius: 18px;
  background: linear-gradient(155deg, #ffffff, #f4f8f6);
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.preview-edit-modal-head h3 {
  margin: 0 0 4px;
  font-size: 1.15rem;
  line-height: 1.2;
  color: #112a24;
}

.preview-edit-modal-head .muted {
  margin: 0;
  font-size: 0.92rem;
}

.preview-edit-modal-form {
  min-height: 0;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.preview-edit-modal-fields {
  min-height: 0;
  max-height: min(62vh, 640px);
  overflow: auto;
  display: grid;
  gap: 10px;
  padding-right: 2px;
}

.preview-edit-field {
  display: grid;
  gap: 5px;
}

.preview-edit-field span {
  font-size: 0.84rem;
  font-weight: 600;
  color: #23433b;
}

.preview-edit-field input,
.preview-edit-field textarea {
  width: 100%;
  border: 1px solid #b8c7c2;
  border-radius: 10px;
  background: #fff;
  color: #1f312d;
  font: inherit;
}

.preview-edit-field input {
  height: 40px;
  padding: 8px 11px;
}

.preview-edit-field textarea {
  min-height: 110px;
  max-height: 42vh;
  padding: 9px 11px;
  line-height: 1.4;
  resize: vertical;
}

.preview-edit-field[data-field-kind="code"] textarea {
  font-family: "IBM Plex Mono", monospace;
  font-size: 0.86rem;
  line-height: 1.35;
}

.preview-edit-field input:focus-visible,
.preview-edit-field textarea:focus-visible {
  outline: 2px solid rgba(0, 109, 91, 0.56);
  outline-offset: 1px;
  border-color: #70ac9e;
}

.preview-edit-modal-actions {
  display: flex;
  justify-content: flex-end;
  gap: 8px;
}

@media (max-width: 760px) {
  .preview-edit-modal {
    padding: 12px;
  }

  .preview-edit-modal-card {
    width: min(100%, 100vw - 24px);
    max-height: calc(100vh - 24px);
    padding: 14px 12px 12px;
    border-radius: 14px;
  }

  .preview-edit-modal-actions {
    justify-content: stretch;
  }

  .preview-edit-modal-actions .ghost-btn,
  .preview-edit-modal-actions .solid-btn {
    flex: 1;
  }
}

.support-prompt-overlay {
  position: fixed;
  inset: 0;
  z-index: 72;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 18px;
  background: rgba(6, 19, 17, 0.56);
  backdrop-filter: blur(4px);
}

body.support-prompt-open {
  overflow: hidden;
}

.support-prompt-card {
  position: relative;
  width: min(560px, calc(100vw - 28px));
  padding: 20px 20px 18px;
  border-radius: 20px;
  background: linear-gradient(155deg, #fffaf2, #f7f7f4 45%, #f2f6f5);
  border-color: rgba(72, 67, 32, 0.16);
}

.support-prompt-close {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 28px;
  min-width: 28px;
  height: 28px;
  border-radius: 999px;
  border: 1px solid rgba(35, 46, 42, 0.18);
  background: rgba(255, 255, 255, 0.84);
  color: #2c3734;
  padding: 0;
  font-size: 1.1rem;
  line-height: 1;
}

.support-prompt-kicker {
  margin: 0 0 6px;
  text-transform: uppercase;
  letter-spacing: 0.13em;
  font-size: 0.73rem;
  font-weight: 700;
  color: #4b675f;
}

.support-prompt-card h3 {
  margin: 0;
  font-size: clamp(1.36rem, 2.2vw, 1.7rem);
  line-height: 1.14;
  color: #13201d;
}

.support-prompt-text {
  margin: 10px 0 0;
  color: #2a3b36;
  font-size: 0.98rem;
  line-height: 1.48;
  max-width: 52ch;
}

.support-prompt-actions {
  margin-top: 18px;
  display: flex;
  justify-content: flex-end;
  align-items: center;
  gap: 10px;
}

.support-prompt-actions .solid-btn {
  min-width: 132px;
  font-weight: 700;
}

.support-prompt-decline {
  font-size: 0.8rem;
  padding: 7px 11px;
  border-color: rgba(42, 54, 50, 0.26);
  color: #4a5a56;
}

@media (max-width: 640px) {
  .support-prompt-card {
    width: min(100%, 100vw - 24px);
    padding: 18px 14px 14px;
    border-radius: 16px;
  }

  .support-prompt-actions {
    flex-direction: column;
    align-items: stretch;
  }

  .support-prompt-actions .solid-btn,
  .support-prompt-actions .ghost-btn {
    width: 100%;
  }
}
